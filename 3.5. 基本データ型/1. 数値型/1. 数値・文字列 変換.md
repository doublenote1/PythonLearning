Pythonでは通常の10進数だけでなく2進数、8進数、16進数として
数値や文字列を扱うことができる。
相互に変換するのも簡単。

> 整数ではなく浮動小数点数float型を16進数の文字列に変換したい場合は以下の記事を参照。
[関連記事](https://note.nkmk.me/python-float-hex/)

---------------------------------------------------------------------------

> プレフィックス0b, 0o, 0xをつけると、
整数型intの数値をそれぞれ2進数、8進数、16進数で記述できる。print()での出力は10進数表記になる。
# 各基数で「整数」を表記

```python
'2進数'
print(0b10, 0B10)  # -> 2 2
'8進数'
print(0o10, 0O10)  # -> 8 8
'16進数'
print(0x10, 0X10)  # -> 16 16
'各基数同士の四則演算も可能'
print(0b10 + 0o10 + 0x10)  # -> 26
'数値中に`_`を挿入しても無視される'
print(0b_1111_1111_1111)  # -> 4095
```

# 数値に関する返還

## 整数を「文字列」へ変換

`2進数表記文字列 = bin(int型)`
`8進数表記文字列 = oct(int型)`
`16進数表記文字列 = hex(int型)`

```python
'2進数へ変換'
print(bin(255), type(bin(255)))  # -> 0b11111111 <class 'str'>
print(bin(0o377), type(bin(0o377)))  # -> 0b11111111 <class 'str'>
print(bin(0xff), type(bin(0xff)))  # -> 0b11111111 <class 'str'>

'8進数へ変換'
print(oct(255), type(oct(255)))  # -> 0o377 <class 'str'>
print(oct(0b11111111), type(oct(0b11111111)))  # -> 0o377 <class 'str'>
print(oct(0xff), type(oct(0xff)))  # -> 0o377 <class 'str'>

'16進数へ変換'
print(hex(255), type(hex(255)))  # -> 0xff <class 'str'>
print(hex(0b11111111), type(hex(0b11111111)))  # -> 0xff <class 'str'>
print(hex(0o377), type(hex(0o377)))  # -> 0xff <class 'str'>
```

## 文字列・数値を「整数」へ変換

### 整数表記文字列を整数へ返還

`int型 = int(整数表記文字列, base=基数)`

> 第2引数を基数にして表記したものが第1引数になったと考える場合の、
  第1引数の10進数表記を「int型」で返す

> 第2引数のデフォルトは`10`

> 基数を0にすると、
  文字列のプレフィックス（`0b`、`0o`、`0x`または、`0B`、`0O`、`0X`）
  をもとに変換される

```python
'10進数として評価'
print(int('10'), type(int('10')))  # -> 10 <class 'int'>
print(int('10', 0))  # -> 10

'2進数として評価'
print(int('10', 2))  # -> 2
print(int('0b10', 0))  # -> 2
print(int('0B10', 2))  # -> 2

'8進数として評価'
print(int('10', 8))  # -> 8
print(int('0o10', 0))  # -> 8
print(int('0O10', 2))  # -> 8

'16進数として評価'
print(int('10', 16))  # -> 16
print(int('0x10', 0))  # -> 16
print(int('0X10', 2))  # -> 16

'浮動小数点数表記はエラーになる'
print(int('1.23'))
# -> ValueError: invalid literal for int() with base 10: '1.23'
```

### 浮動小数点数を整数へ変換

`int型 = int(float型)`
> 引数の整数部をint型として返す

```python
print(int(123.456), type(int(123.456)))  # -> 123 <class 'int'>
```

## 文字列・数値を「不動小数点数」へ変換

`float型 = float(数値)`

```python
'浮動小数点数'
print(float('1.23'), type(float('1.23')))  # -> 1.23 <class 'float'>
print(float(1.23), type(float(1.23)))  # -> 1.23 <class 'float'>

'整数部が省略された浮動小数点数'
print(float('.23'), type(float('.23')))  # -> 0.23 <class 'float'>
print(float(.23), type(float(.23)))  # -> 0.23 <class 'float'>

'整数'
print(float('100'), type(float('100')))  # -> # -> 100.0 <class 'float'>
print(float(100), type(float(100)))  # -> 100.0 <class 'float'>
```

# 数値の「小数部」を取得

## 方法1

```python
print(1.5 - int(1.5))  # -> 0.5
```

## 方法2

`import math
(float型, float型) = math.modf(float型)`

> 引数の「小数部」・「整数部」の順番で、float型のタプルを返す

```python
import math

'多重代入を併用'
f, i = math.modf(1.5)
print(i, type(i))  # -> 1.0 <class 'float'>
print(f, type(f))  # -> 0.5 <class 'float'>

'負の値を引数にする場合'
f, i = math.modf(-1.5)
print(i, type(i))  # -> -1.0 <class 'float'>
print(f, type(f))  # -> -0.5 <class 'float'>

'整数を引数にする場合'
f, i = math.modf(100)
print(i, type(i))  # -> 100.0 <class 'float'>
print(f, type(f))  # -> 0.0 <class 'float'>
```

# 漢数字の文字列を浮動小数点数に変換

`float型 = unicodedata.numeric(漢数字１文字)`

> ユニコードの漢数字一文字を浮動小数点「float型」の数値に変換できる

> 一文字でないと`TypeError`、数字ではない文字は`ValueError`になる

```python
import unicodedata

print(unicodedata.numeric('五'))  # -> 5.0
print(type(unicodedata.numeric('五')))  # -> <class 'float'>
print(unicodedata.numeric('十'))  # -> 10.0
print(unicodedata.numeric('参'))  # -> 3.0
print(unicodedata.numeric('億'))  # -> 100000000.0
```
